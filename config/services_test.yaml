imports:
    - { resource: services/test_common.yaml }

services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\Services\TestConfigurationStore:
        public: true

    App\Services\TestStore:
        public: true

    App\MessageHandler\CompileSourceHandler:
        public: true

    App\Services\SourcePathFinder:
        public: true

    App\Services\CompilationWorkflowHandler:
        public: true

    App\MessageHandler\ExecuteTestHandler:
        public: true

    App\Services\ExecutionWorkflowHandler:
        public: true

    App\Services\TestFactory:
        public: true

    App\Services\CallbackResponseHandler:
        public: true

    App\Services\SourceCompileEventDispatcher:
        public: true

    App\MessageDispatcher\SendCallbackMessageDispatcher:
        public: true

    App\Services\TestCanceller:
        public: true

    App\Services\CallbackStore:
        public: true

    App\Services\CallbackStateMutator:
        public: true

    App\Repository\CallbackRepository:
        public: true

    App\Services\CallbackFactory:
        public: true

    App\Services\CallbackEventFactory:
        public: true

    App\Services\SourceCompileEventFactory:
        public: true

    App\Services\CompilationState:
        public: true

    App\Services\ExecutionState:
        public: true

    App\Services\CallbackState:
        public: true

    App\Services\ApplicationState:
        public: true

    App\Services\SourceFactory:
        public: true

    App\Services\TestSerializer:
        public: true

    App\MessageHandler\TimeoutCheckHandler:
        public: true

    App\Tests\Services\SourcesAddedEventSubscriber:
        public: true

    App\Tests\Services\CallbackHttpErrorEventSubscriber:
        public: true

    GuzzleHttp\HandlerStack:
        factory: [ '@App\Tests\Services\Guzzle\HandlerStackFactory', 'create' ]
        arguments:
            $handler: '@app.tests.services.guzzle.handler.queuing'

    App\Tests\Services\TestTestFactory:
        public: true

    App\Tests\Services\TestTestRepository:
        public: true

    Symfony\Component\Messenger\Transport\InMemoryTransport:
        alias: 'messenger.transport.async'

    App\Tests\Services\TestCallbackEventFactory:
        public: true

    App\Tests\Services\Asserter\MessengerAsserter:
        public: true
        arguments:
            $transport: '@messenger.transport.async'
